<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>insidetask编辑</title>
    <link href="https://cdn.bootcdn.net/ajax/libs/twitter-bootstrap/4.4.1/css/bootstrap.min.css" rel="stylesheet">

    <script src="https://cdn.bootcdn.net/ajax/libs/twitter-bootstrap/4.4.1/js/bootstrap.min.js"></script>
    <script src="https://cdn.bootcss.com/jquery.serializeJSON/2.9.0/jquery.serializejson.min.js"></script>

    <script src="https://cdn.jsdelivr.net/npm/jquery@3.4.1/dist/jquery.slim.min.js" integrity="sha384-J6qa4849blE2+poT4WnyKhv5vZF5SrPo0iEjwBvKU7imGFAV0wwj1yYfoRSJoZ+n" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js" integrity="sha384-Q6E9RHvbIyZFJoft+2mJbHaEWldlvI9IOYy5n3zV9zzTtmI3UksdQRVvoxMfooAo" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.4.1/dist/js/bootstrap.min.js" integrity="sha384-wfSDF2E50Y2D1uUdj0O3uMBJnjuUD4Ih7YwaYd1iqfktj0Uod8GCExl3Og8ifwB6" crossorigin="anonymous"></script>

    <script src="https://cdn.bootcss.com/jquery/3.4.1/jquery.js"></script>
</head>
<body>
<div>
    <div>
        <nav class="navbar navbar-expand-lg navbar-light bg-light">
            <a class="navbar-brand" href="/">BPMN SIMU</a>

            <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarSupportedContent"
                    aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
                <span class="navbar-toggler-icon"></span>
            </button>

            <div class="collapse navbar-collapse">
                <ul class="navbar-nav mr-auto">
                    <li class="nav-item">
                        <a class="nav-link" href="/">上传BPMN<span class="sr-only">(current)</span></a>
                    </li>

                    <li class="nav-item">
                        <a class="nav-link" href="/cleanActivitiData">数据清理</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="/insideSelect">选择补充</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="/insideTask">内部任务</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="/states">所有联邦成员状态图</a>
                    </li>
                </ul>
            </div>
        </nav>

        <div class="jumbotron" style="width:1200px;margin-left:100px;">
            <div class="table-wrapper">
                <h1 class="text-center">
                    <svg class="bi bi-book" width="1em" height="1em" viewBox="0 0 16 16" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
                        <path fill-rule="evenodd" d="M3.214 1.072C4.813.752 6.916.71 8.354 2.146A.5.5 0 0 1 8.5 2.5v11a.5.5 0 0 1-.854.354c-.843-.844-2.115-1.059-3.47-.92-1.344.14-2.66.617-3.452 1.013A.5.5 0 0 1 0 13.5v-11a.5.5 0 0 1 .276-.447L.5 2.5l-.224-.447.002-.001.004-.002.013-.006a5.017 5.017 0 0 1 .22-.103 12.958 12.958 0 0 1 2.7-.869zM1 2.82v9.908c.846-.343 1.944-.672 3.074-.788 1.143-.118 2.387-.023 3.426.56V2.718c-1.063-.929-2.631-.956-4.09-.664A11.958 11.958 0 0 0 1 2.82z"/>
                        <path fill-rule="evenodd" d="M12.786 1.072C11.188.752 9.084.71 7.646 2.146A.5.5 0 0 0 7.5 2.5v11a.5.5 0 0 0 .854.354c.843-.844 2.115-1.059 3.47-.92 1.344.14 2.66.617 3.452 1.013A.5.5 0 0 0 16 13.5v-11a.5.5 0 0 0-.276-.447L15.5 2.5l.224-.447-.002-.001-.004-.002-.013-.006-.047-.023a12.582 12.582 0 0 0-.799-.34 12.96 12.96 0 0 0-2.073-.609zM15 2.82v9.908c-.846-.343-1.944-.672-3.074-.788-1.143-.118-2.387-.023-3.426.56V2.718c1.063-.929 2.631-.956 4.09-.664A11.956 11.956 0 0 1 15 2.82z"/>
                    </svg>
                    查询内部任务
                </h1>
                <hr />
                <button type="button" class="btn btn-lg btn-outline-info" onclick="chaInsideTask()">
                    <svg class="bi bi-search" width="1em" height="1em" viewBox="0 0 16 16" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
                        <path fill-rule="evenodd" d="M10.442 10.442a1 1 0 0 1 1.415 0l3.85 3.85a1 1 0 0 1-1.414 1.415l-3.85-3.85a1 1 0 0 1 0-1.415z"/>
                        <path fill-rule="evenodd" d="M6.5 12a5.5 5.5 0 1 0 0-11 5.5 5.5 0 0 0 0 11zM13 6.5a6.5 6.5 0 1 1-13 0 6.5 6.5 0 0 1 13 0z"/>
                    </svg>
                    查询
                </button>
                <hr />
                <table id="insideTaskTable" class="table table-striped table-primary" style="text-align: center">
                    <tbody>
                    <tr class="table-header">
                        <th>任务Id</th>
                        <th>任务内容</th>
                        <th>完成情况</th>
                    </tr>
                    </tbody>
                </table>
            </div>

            <hr />
            <div>
                <form id="aInsideTask">
                    <span>请设置要插入的内部任务Id：</span>
                    <input type="text" name="insidetaskId" id="insidetaskId" placeholder="内部任务的id">
                    <button type="button" onclick="submitInsidetaskId()">提交</button>
                </form>

                <hr />
                <!--指令的编辑-->

                <div id="instruction_0" class="instruction" style="border: black;border-width: 1px;border-style: dotted">
                        <br />
                        <span class="dropdown">

                            <button class="btn btn-secondary dropdown-toggle" type="button"
                                    style="margin-left: 10px" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                                <svg class="bi bi-option" width="1em" height="1em" viewBox="0 0 16 16" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
                                  <path fill-rule="evenodd" d="M1 2.5a.5.5 0 0 1 .5-.5h3.797a.5.5 0 0 1 .439.26L11 13h3.5a.5.5 0 0 1 0 1h-3.797a.5.5 0 0 1-.439-.26L5 3H1.5a.5.5 0 0 1-.5-.5zm10 0a.5.5 0 0 1 .5-.5h3a.5.5 0 0 1 0 1h-3a.5.5 0 0 1-.5-.5z"/>
                                </svg>
                                请选择要插入的操作命令
                            </button>

                            <span class="dropdown-menu" aria-labelledby="dropdownMenu2">
                              <button class="dropdown-item" type="button" onclick="SendInstruction(this)">发送一个交互类</button>
                              <button class="dropdown-item" type="button" onclick="CreateInstruction(this)">创建对象</button>
                              <button class="dropdown-item" type="button" onclick="DelayInstruction(this)">延时</button>
                              <button class="dropdown-item" type="button" onclick="ExpressionInstruction(this)">表达式</button>
                              <button class="dropdown-item" type="button" onclick="ObjectGetInstruction(this)">获得一个对象</button>
                              <button class="dropdown-item" type="button" onclick="ObjectSetInstruction(this)">设置一个对象</button>
                                <hr />
                              <button class="dropdown-item" type="button" onclick="ListAddInstruction(this)">列表加入</button>
                              <button class="dropdown-item" type="button" onclick="ListSizeInstruction(this)">列表大小</button>
                              <button class="dropdown-item" type="button" onclick="ListClearInstruction(this)">列表清空</button>
                              <button class="dropdown-item" type="button" onclick="ListRemoveInstruction(this)">列表移除</button>
                              <button class="dropdown-item" type="button" onclick="ListGetInstruction(this)">列表获得一个对象（按名字）</button>
                              <button class="dropdown-item" type="button" onclick="ListGetIndexInstruction(this)">列表获得一个对象（按下标）</button>
                                <hr />

                              <button class="dropdown-item" type="button" onclick="TypeConversionInstruction(this)">强制转换</button>
                              <button class="dropdown-item" type="button" onclick="UpdateTimePeriodInstruction(this)">生命周期更新</button>
                              <button class="dropdown-item" type="button" onclick="MathAbsInstruction(this)">绝对值</button>
                              <button class="dropdown-item" type="button" onclick="RandomIntInstruction(this)">产生一个随机数</button>
                                <hr />
                              <button class="dropdown-item" type="button" onclick="SelectInstruction(this)">选择</button>
                              <button class="dropdown-item" type="button" onclick="ForeachInstruction(this)">foreach</button>
                              <button class="dropdown-item" type="button" onclick="FornumberInstruction(this)">fornumber</button>
                            </span>
                        </span>

                        <span>
                            <button type="button" class="btn btn-warning" id="hideButton" onclick="HideDetails(this)">
                                <svg class="bi bi-display-fill" width="1em" height="1em" viewBox="0 0 16 16" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
                                  <path d="M5.75 13.5c.167-.333.25-.833.25-1.5h4c0 .667.083 1.167.25 1.5H11a.5.5 0 0 1 0 1H5a.5.5 0 0 1 0-1h.75z"/>
                                  <path fill-rule="evenodd" d="M13.991 3H2c-.325 0-.502.078-.602.145a.758.758 0 0 0-.254.302A1.46 1.46 0 0 0 1 4.01V10c0 .325.078.502.145.602.07.105.17.188.302.254a1.464 1.464 0 0 0 .538.143L2.01 11H14c.325 0 .502-.078.602-.145a.758.758 0 0 0 .254-.302 1.464 1.464 0 0 0 .143-.538L15 9.99V4c0-.325-.078-.502-.145-.602a.757.757 0 0 0-.302-.254A1.46 1.46 0 0 0 13.99 3zM14 2H2C0 2 0 4 0 4v6c0 2 2 2 2 2h12c2 0 2-2 2-2V4c0-2-2-2-2-2z"/>
                                  <path d="M2 4h12v6H2z"/>
                                </svg>
                                隐藏指令细节
                            </button>
                        </span>
                        <br /><br />
                    </div><br />

                    <!--在这里之前插入一条指令的div-->
                    <div id="addInstruction">
                    </div>

                    <!--添加一条指令编辑的按钮-->
                    <button type="button" class="btn btn-dark"
                            style="margin-left: 1040px"
                            onclick="addInstruction()">
                        <svg class="bi bi-plus-square" width="1em" height="1em" viewBox="0 0 16 16" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
                            <path fill-rule="evenodd" d="M8 3.5a.5.5 0 0 1 .5.5v4a.5.5 0 0 1-.5.5H4a.5.5 0 0 1 0-1h3.5V4a.5.5 0 0 1 .5-.5z"/>
                            <path fill-rule="evenodd" d="M7.5 8a.5.5 0 0 1 .5-.5h4a.5.5 0 0 1 0 1H8.5V12a.5.5 0 0 1-1 0V8z"/>
                            <path fill-rule="evenodd" d="M14 1H2a1 1 0 0 0-1 1v12a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1V2a1 1 0 0 0-1-1zM2 0a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V2a2 2 0 0 0-2-2H2z"/>
                        </svg>
                        命令
                    </button>

            </div>
        </div>
    </div>

</div>

<script language="JavaScript">

    function submitInsidetaskId() {
        //instruction0 -- alert('#'+obj.parentElement.getAttribute("id"));
        let formId='#insidetaskId';
        let serializeArray = $(formId).serializeArray();
        $.ajax({
            url:"/post/insideTaskID",
            type:"post",
            dataType:"text",
            data:serializeArray,
            success:function(result){
                alert(result);
            }
        });
    }

    function addInstruction() {
        let inst_count = document.getElementsByClassName("instruction").length;
        let html ='<div id="instruction_"+inst_count+" class="instruction" style="border: black;border-width: 1px;border-style: dotted">\n' +
            '                    <br />\n' +
            '                    <span class="dropdown">\n' +
            '\n' +
            '                        <button class="btn btn-secondary dropdown-toggle" type="button"\n' +
            '                                style="margin-left: 10px" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">\n' +
            '                            <svg class="bi bi-option" width="1em" height="1em" viewBox="0 0 16 16" fill="currentColor" xmlns="http://www.w3.org/2000/svg">\n' +
            '                              <path fill-rule="evenodd" d="M1 2.5a.5.5 0 0 1 .5-.5h3.797a.5.5 0 0 1 .439.26L11 13h3.5a.5.5 0 0 1 0 1h-3.797a.5.5 0 0 1-.439-.26L5 3H1.5a.5.5 0 0 1-.5-.5zm10 0a.5.5 0 0 1 .5-.5h3a.5.5 0 0 1 0 1h-3a.5.5 0 0 1-.5-.5z"/>\n' +
            '                            </svg>\n' +
            '                            请选择要插入的操作命令\n' +
            '                        </button>\n' +
            '\n' +
            '                        <span class="dropdown-menu" aria-labelledby="dropdownMenu2">\n' +
            '                              <button class="dropdown-item" type="button" onclick="SendInstruction(this)">发送一个交互类</button>\n' +
            '                              <button class="dropdown-item" type="button" onclick="UpdateTimePeriodInstruction(this)">生命周期更新</button>\n' +
            '                                <hr />\n' +
            '                              <button class="dropdown-item" type="button" onclick="CreateInstruction(this)">创建对象</button>\n' +
            '                              <button class="dropdown-item" type="button" onclick="DelayInstruction(this)">延时</button>\n' +
            '                              <button class="dropdown-item" type="button" onclick="ExpressionInstruction(this)">表达式</button>\n' +
            '                              <button class="dropdown-item" type="button" onclick="ObjectGetInstruction(this)">获得一个对象</button>\n' +
            '                              <button class="dropdown-item" type="button" onclick="ObjectSetInstruction(this)">设置一个对象</button>\n' +
            '                                <hr />\n' +
            '                              <button class="dropdown-item" type="button" onclick="ListAddInstruction(this)">列表加入</button>\n' +
            '                              <button class="dropdown-item" type="button" onclick="ListSizeInstruction(this)">列表大小</button>\n' +
            '                              <button class="dropdown-item" type="button" onclick="ListClearInstruction(this)">列表清空</button>\n' +
            '                              <button class="dropdown-item" type="button" onclick="ListRemoveInstruction(this)">列表移除</button>\n' +
            '                              <button class="dropdown-item" type="button" onclick="ListGetInstruction(this)">列表获得一个对象（按名字）</button>\n' +
            '                              <button class="dropdown-item" type="button" onclick="ListGetIndexInstruction(this)">列表获得一个对象（按下标）</button>\n' +
            '                                <hr />\n' +
            '                              <button class="dropdown-item" type="button" onclick="TypeConversionInstruction(this)">强制转换</button>\n' +
            '                              <button class="dropdown-item" type="button" onclick="MathAbsInstruction(this)">绝对值</button>\n' +
            '                              <button class="dropdown-item" type="button" onclick="RandomIntInstruction(this)">产生一个随机数</button>\n' +
            '                                <hr />\n' +
            '                              <button class="dropdown-item" type="button" onclick="SelectInstruction(this)">选择</button>\n' +
            '                              <button class="dropdown-item" type="button" onclick="ForeachInstruction(this)">foreach</button>\n' +
            '                              <button class="dropdown-item" type="button" onclick="FornumberInstruction(this)">fornumber</button>\n' +
            '                        </span>\n' +
            '\n' +
            '                    </span>\n' +
            '\n' +
            '                    <span>\n' +
            '                        <button type="button" class="btn btn-warning" id="hideButton" onclick="HideDetails(this)">\n' +
            '                            <svg class="bi bi-display-fill" width="1em" height="1em" viewBox="0 0 16 16" fill="currentColor" xmlns="http://www.w3.org/2000/svg">\n' +
            '                              <path d="M5.75 13.5c.167-.333.25-.833.25-1.5h4c0 .667.083 1.167.25 1.5H11a.5.5 0 0 1 0 1H5a.5.5 0 0 1 0-1h.75z"/>\n' +
            '                              <path fill-rule="evenodd" d="M13.991 3H2c-.325 0-.502.078-.602.145a.758.758 0 0 0-.254.302A1.46 1.46 0 0 0 1 4.01V10c0 .325.078.502.145.602.07.105.17.188.302.254a1.464 1.464 0 0 0 .538.143L2.01 11H14c.325 0 .502-.078.602-.145a.758.758 0 0 0 .254-.302 1.464 1.464 0 0 0 .143-.538L15 9.99V4c0-.325-.078-.502-.145-.602a.757.757 0 0 0-.302-.254A1.46 1.46 0 0 0 13.99 3zM14 2H2C0 2 0 4 0 4v6c0 2 2 2 2 2h12c2 0 2-2 2-2V4c0-2-2-2-2-2z"/>\n' +
            '                              <path d="M2 4h12v6H2z"/>\n' +
            '                            </svg>\n' +
            '                            隐藏指令细节\n' +
            '                        </button>\n' +
            '                    </span>\n' +
            '                    <br /><br />\n' +
            '                </div><br />';
        let addInstruction = document.getElementById("addInstruction");
        addInstruction.insertAdjacentHTML("beforebegin",html);
    }

    function HideDetails(obj) {
        let AncestorDiv = obj.parentElement.parentElement;
        let sequence = AncestorDiv.getAttribute("id").split("_")[1];
        let insertId = "insert"+sequence;

        let current = document.getElementById(insertId);
        let css = current.getAttribute("style");

        if (css===null || css===""){
            current.setAttribute("style","display: none");
            current.innerText = "展开指令细节";
        }else{
            current.setAttribute("style","");
            current.innerText = "隐藏指令细节";
        }
    }
</script>

<script language="JavaScript">

    //create指令
    function CreateInstruction(obj){
        let AncestorDiv = obj.parentElement.parentElement.parentElement;
        let sequence = AncestorDiv.getAttribute("id").split("_")[1];
        let formId = "instruction"+sequence;
        let insertId = "insert"+sequence;
        let html = "<div id=\""+insertId+"\">\n" +
            "    <br />\n" +
            "    <h3 style=\"color:indigo\">创建对象</h3>\n" +
            "    <hr >\n" +
            "    <form id=\""+formId+"\">\n" +
            "      <div>\n" +
            "        <div class=\"input-group mb-3\">\n" +
            "          <div class=\"input-group-prepend\">\n" +
            "            <span class=\"input-group-text\">请输入这个对象的名称</span>\n" +
            "          </div>\n" +
            "          <input type=\"text\" name=\"outName\" class=\"form-control\" placeholder=\"给这个对象命名\">\n" +
            "        </div>\n" +
            "\n" +
            "        <div class=\"input-group mb-3\">\n" +
            "          <div class=\"input-group-prepend\">\n" +
            "            <span class=\"input-group-text\">请输入创建的对象的类型</span>\n" +
            "          </div>\n" +
            "          <input type=\"text\" name=\"federateObject\" class=\"form-control\" placeholder=\"输入对应的对象类型\">\n" +
            "        </div>\n" +
            "        <div class=\"input-group mb-3\">\n" +
            "          <div class=\"input-group-prepend\">\n" +
            "            <span class=\"input-group-text\">请输入这个对象中对应各个参数的类型</span>\n" +
            "          </div>\n" +
            "          <input type=\"text\" name=\"typeInformation\" class=\"form-control\" placeholder=\"用逗号隔开\">\n" +
            "        </div>\n" +
            "        <div class=\"input-group mb-3\">\n" +
            "          <div class=\"input-group-prepend\">\n" +
            "            <span class=\"input-group-text\">填充这个对象的各个参数</span>\n" +
            "          </div>\n" +
            "          <input type=\"text\" name=\"actualInformation\" class=\"form-control\" placeholder=\"用逗号隔开\">\n" +
            "        </div>\n" +
            "      </div>\n" +
            "      <button type=\"button\" class=\"btn btn-outline-success\" style=\"margin-left: 1000px\" onclick=\"submitCreateInstruction(this)\">提交这条命令</button>\n" +
            "      <p style=\"margin-left: 630px;color: red\">当错误选择指令时，不要点击提交按钮，选择增加一个新的命令即可</p>\n" +
            "    </form>\n" +
            "  </div>";
        AncestorDiv.insertAdjacentHTML("beforeend",html);
    }
    function submitCreateInstruction(obj) {
        //instruction0 -- alert('#'+obj.parentElement.getAttribute("id"));
        let formId='#'+obj.parentElement.getAttribute("id");
        //alert(formId);
        let serializeArray = $(formId).serializeArray();
        $.ajax({
            url:"/post/create",
            type:"post",
            dataType:"text",
            data:serializeArray,
            success:function(result){
                alert(result);
            }
        });
    }

    //delay指令
    function DelayInstruction(obj) {
        let AncestorDiv = obj.parentElement.parentElement.parentElement;
        let sequence = AncestorDiv.getAttribute("id").split("_")[1];
        let formId = "instruction"+sequence;
        let insertId = "insert"+sequence;
        let html = "<div id=\""+insertId+"\">\n" +
            "    <br />\n" +
            "    <h3 style=\"color:indigo\">延时</h3>\n" +
            "    <hr >\n" +
            "    <form id=\""+formId+"\">\n" +
            "      <div>\n" +
            "        <div class=\"input-group mb-3\">\n" +
            "          <div class=\"input-group-prepend\">\n" +
            "            <span class=\"input-group-text\">延时的时间</span>\n" +
            "          </div>\n" +
            "          <input type=\"text\" name=\"delayTime\" class=\"form-control\" placeholder=\"输入时间\">\n" +
            "        </div>\n" +
            "\n" +
            "        <div class=\"input-group mb-3\">\n" +
            "          <div class=\"input-group-prepend\">\n" +
            "            <span class=\"input-group-text\">打印的信息</span>\n" +
            "          </div>\n" +
            "          <input type=\"text\" name=\"logInformation\" class=\"form-control\" placeholder=\"打印的提示信息\">\n" +
            "        </div>\n" +
            "      </div>\n" +
            "      <button type=\"button\" class=\"btn btn-outline-success\" style=\"margin-left: 1000px\" onclick=\"submitDelayInstruction(this)\">提交这条命令</button>\n" +
            "      <p style=\"margin-left: 630px;color: red\">当错误选择指令时，不要点击提交按钮，选择增加一个新的命令即可</p>\n" +
            "    </form>\n" +
            "  </div>";
        AncestorDiv.insertAdjacentHTML("beforeend",html);
    }
    function submitDelayInstruction(obj) {
        let formId='#'+obj.parentElement.getAttribute("id");
        //alert(formId);
        let serializeArray = $(formId).serializeArray();
        $.ajax({
            url:"/post/delay",
            type:"post",
            dataType:"text",
            data:serializeArray,
            success:function(result){
                alert(result);
            }
        });
    }

    // expression
    function ExpressionInstruction(obj) {
        let AncestorDiv = obj.parentElement.parentElement.parentElement;
        let sequence = AncestorDiv.getAttribute("id").split("_")[1];
        let formId = "instruction"+sequence;
        let insertId = "insert"+sequence;
        let html = "<div id=\""+insertId+"\">\n" +
            "    <br />\n" +
            "    <h3 style=\"color:indigo\">设置表达式</h3>\n" +
            "    <hr >\n" +
            "    <form id=\""+formId+"\">\n" +
            "      <div>\n" +
            "        <div class=\"input-group mb-3\">\n" +
            "          <div class=\"input-group-prepend\">\n" +
            "            <span class=\"input-group-text\">expression的表达式</span>\n" +
            "          </div>\n" +
            "          <input type=\"text\" name=\"expressionInformation\" class=\"form-control\" placeholder=\"用？代表每个变量\">\n" +
            "        </div>\n" +
            "\n" +
            "        <div class=\"input-group mb-3\">\n" +
            "          <div class=\"input-group-prepend\">\n" +
            "            <span class=\"input-group-text\">每个问号代表的变量类型</span>\n" +
            "          </div>\n" +
            "          <input type=\"text\" name=\"fillType\" class=\"form-control\" placeholder=\"1表示XXX，2表示YYY\">\n" +
            "        </div>\n" +
            "\n" +
            "        <div class=\"input-group mb-3\">\n" +
            "          <div class=\"input-group-prepend\">\n" +
            "            <span class=\"input-group-text\">每个问号填充的数据，对应变量的类型</span>\n" +
            "          </div>\n" +
            "          <input type=\"text\" name=\"fillInformation\" class=\"form-control\" placeholder=\"UNKNOWN\">\n" +
            "        </div>\n" +
            "\n" +
            "        <div class=\"input-group mb-3\">\n" +
            "          <div class=\"input-group-prepend\">\n" +
            "            <span class=\"input-group-text\">表达式的结果类型</span>\n" +
            "          </div>\n" +
            "          <input type=\"text\" name=\"outType\" class=\"form-control\" placeholder=\"UNKNOWN\">\n" +
            "        </div>\n" +
            "\n" +
            "        <div class=\"input-group mb-3\">\n" +
            "          <div class=\"input-group-prepend\">\n" +
            "            <span class=\"input-group-text\">保存表达式结果的变量</span>\n" +
            "          </div>\n" +
            "          <input type=\"text\" name=\"outName\" class=\"form-control\" placeholder=\"UNKNOWN\">\n" +
            "        </div>\n" +
            "      </div>\n" +
            "      <button type=\"button\" class=\"btn btn-outline-success\" style=\"margin-left: 1000px\" onclick=\"submitExpressionInstruction(this)\">提交这条命令</button>\n" +
            "      <p style=\"margin-left: 630px;color: red\">当错误选择指令时，不要点击提交按钮，选择增加一个新的命令即可</p>\n" +
            "    </form>\n" +
            "  </div>"
        AncestorDiv.insertAdjacentHTML("beforeend",html);
    }
    function submitExpressionInstruction(obj) {
        let formId='#'+obj.parentElement.getAttribute("id");
        let serializeArray = $(formId).serializeArray();
        $.ajax({
            url:"/post/expression",
            type:"post",
            dataType:"text",
            data:serializeArray,
            success:function(result){
                alert(result);
            }
        });
    }

    //listadd
    function ListAddInstruction(obj) {
        let AncestorDiv = obj.parentElement.parentElement.parentElement;
        let sequence = AncestorDiv.getAttribute("id").split("_")[1];
        let formId = "instruction"+sequence;
        let insertId = "insert"+sequence;
        let html ="  <div id=\""+insertId+"\">\n" +
            "    <br />\n" +
            "    <h3 style=\"color:indigo\">已知对象名，将该对象添加到某个列表中</h3>\n" +
            "    <hr >\n" +
            "    <form id=\""+formId+"\">\n" +
            "      <div>\n" +
            "        <div class=\"input-group mb-3\">\n" +
            "          <div class=\"input-group-prepend\">\n" +
            "            <span class=\"input-group-text\">将对象添加到哪个列表中</span>\n" +
            "          </div>\n" +
            "          <input type=\"text\" name=\"listName\" class=\"form-control\" placeholder=\"输入列表的名字\">\n" +
            "        </div>\n" +
            "\n" +
            "        <div class=\"input-group mb-3\">\n" +
            "          <div class=\"input-group-prepend\">\n" +
            "            <span class=\"input-group-text\">输入添加的对象的名字</span>\n" +
            "          </div>\n" +
            "          <input type=\"text\" name=\"objectName\" class=\"form-control\" placeholder=\"要添加的对象的名字\">\n" +
            "        </div>\n" +
            "\n" +
            "      </div>\n" +
            "      <button type=\"button\" class=\"btn btn-outline-success\" style=\"margin-left: 1000px\" onclick=\"submitListaddInstruction(this)\">提交这条命令</button>\n" +
            "      <p style=\"margin-left: 630px;color: red\">当错误选择指令时，不要点击提交按钮，选择增加一个新的命令即可</p>\n" +
            "    </form>\n" +
            "  </div>";
        AncestorDiv.insertAdjacentHTML("beforeend",html);
    }
    function submitListaddInstruction(obj){
        let formId='#'+obj.parentElement.getAttribute("id");
        let serializeArray = $(formId).serializeArray();
        $.ajax({
            url:"/post/listadd",
            type:"post",
            dataType:"text",
            data:serializeArray,
            success:function(result){
                alert(result);
            }
        });
    }

    //ListSize
    function ListSizeInstruction(obj) {
        let AncestorDiv = obj.parentElement.parentElement.parentElement;
        let sequence = AncestorDiv.getAttribute("id").split("_")[1];
        let formId = "instruction"+sequence;
        let insertId = "insert"+sequence;
        let html ="  <div id=\""+insertId+"\">\n" +
            "    <br />\n" +
            "    <h3 style=\"color:indigo\">获得已知名称的列表的长度</h3>\n" +
            "    <hr >\n" +
            "    <form id=\""+formId+"\">\n" +
            "      <div>\n" +
            "        <div class=\"input-group mb-3\">\n" +
            "          <div class=\"input-group-prepend\">\n" +
            "            <span class=\"input-group-text\">想要得到长度的列表名</span>\n" +
            "          </div>\n" +
            "          <input type=\"text\" name=\"listName\" class=\"form-control\" placeholder=\"输入列表的名字\">\n" +
            "        </div>\n" +
            "\n" +
            "        <div class=\"input-group mb-3\">\n" +
            "          <div class=\"input-group-prepend\">\n" +
            "            <span class=\"input-group-text\">用来保存列表的长度的变量名</span>\n" +
            "          </div>\n" +
            "          <input type=\"text\" name=\"outName\" class=\"form-control\" placeholder=\"变量名\">\n" +
            "        </div>\n" +
            "\n" +
            "      </div>\n" +
            "      <button type=\"button\" class=\"btn btn-outline-success\" style=\"margin-left: 1000px\" onclick=\"submitListsizeInstruction(this)\">提交这条命令</button>\n" +
            "      <p style=\"margin-left: 630px;color: red\">当错误选择指令时，不要点击提交按钮，选择增加一个新的命令即可</p>\n" +
            "    </form>\n" +
            "  </div>";
        AncestorDiv.insertAdjacentHTML("beforeend",html);
    }
    function submitListsizeInstruction(obj) {
        let formId='#'+obj.parentElement.getAttribute("id");
        let serializeArray = $(formId).serializeArray();
        $.ajax({
            url:"/post/listsize",
            type:"post",
            dataType:"text",
            data:serializeArray,
            success:function(result){
                alert(result);
            }
        });
    }

    //ListClear
    function ListClearInstruction(obj) {
        let AncestorDiv = obj.parentElement.parentElement.parentElement;
        let sequence = AncestorDiv.getAttribute("id").split("_")[1];
        let formId = "instruction"+sequence;
        let insertId = "insert"+sequence;
        let html = "  <div id=\""+insertId+"\">\n" +
            "    <br />\n" +
            "    <h3 style=\"color:indigo\">清空列表</h3>\n" +
            "    <hr >\n" +
            "    <form id=\""+formId+"\">\n" +
            "      <div>\n" +
            "        <div class=\"input-group mb-3\">\n" +
            "          <div class=\"input-group-prepend\">\n" +
            "            <span class=\"input-group-text\">输入想要清空的列表的名字</span>\n" +
            "          </div>\n" +
            "          <input type=\"text\" name=\"listName\" class=\"form-control\" placeholder=\"将要清空的列表名\">\n" +
            "        </div>\n" +
            "\n" +
            "      </div>\n" +
            "      <button type=\"button\" class=\"btn btn-outline-success\" style=\"margin-left: 1000px\" onclick=\"submitListclearInstruction(this)\">提交这条命令</button>\n" +
            "      <p style=\"margin-left: 630px;color: red\">当错误选择指令时，不要点击提交按钮，选择增加一个新的命令即可</p>\n" +
            "    </form>\n" +
            "  </div>";
        AncestorDiv.insertAdjacentHTML("beforeend",html);
    }
    function submitListclearInstruction(obj) {
        let formId='#'+obj.parentElement.getAttribute("id");
        let serializeArray = $(formId).serializeArray();
        $.ajax({
            url:"/post/listclear",
            type:"post",
            dataType:"text",
            data:serializeArray,
            success:function(result){
                alert(result);
            }
        });
    }

    // list remove
    function ListRemoveInstruction(obj) {
        let AncestorDiv = obj.parentElement.parentElement.parentElement;
        let sequence = AncestorDiv.getAttribute("id").split("_")[1];
        let formId = "instruction"+sequence;
        let insertId = "insert"+sequence;
        let html = "  <div id=\""+insertId+"\">\n" +
            "    <br />\n" +
            "    <h3 style=\"color:indigo\">移除列表中某个元素</h3>\n" +
            "    <hr >\n" +
            "    <form id=\""+formId+"\">\n" +
            "      <div>\n" +
            "        <div class=\"input-group mb-3\">\n" +
            "          <div class=\"input-group-prepend\">\n" +
            "            <span class=\"input-group-text\">请输入队列的Id</span>\n" +
            "          </div>\n" +
            "          <input type=\"text\" name=\"listId\" class=\"form-control\" placeholder=\"列表Id\">\n" +
            "        </div>\n" +
            "\n" +
            "        <div class=\"input-group mb-3\">\n" +
            "          <div class=\"input-group-prepend\">\n" +
            "            <span class=\"input-group-text\">移除依据的参数类型</span>\n" +
            "          </div>\n" +
            "          <input type=\"text\" name=\"accordingToParameterName\" class=\"form-control\" placeholder=\"若移除类型为3请填写-1\">\n" +
            "        </div>\n" +
            "\n" +
            "        <div class=\"input-group mb-3\">\n" +
            "          <div class=\"input-group-prepend\">\n" +
            "            <span class=\"input-group-text\">移除元素的类型</span>\n" +
            "          </div>\n" +
            "          <input type=\"text\" name=\"removeType\" class=\"form-control\" placeholder=\"UNKOWN\">\n" +
            "        </div>\n" +
            "\n" +
            "        <div class=\"input-group mb-3\">\n" +
            "          <div class=\"input-group-prepend\">\n" +
            "            <span class=\"input-group-text\">移除的参数值</span>\n" +
            "          </div>\n" +
            "          <input type=\"text\" name=\"removeName\" class=\"form-control\" placeholder=\"UNKNOWN\">\n" +
            "        </div>\n" +
            "\n" +
            "      </div>\n" +
            "      <button type=\"button\" class=\"btn btn-outline-success\" style=\"margin-left: 1000px\" onclick=\"submitListremoveInstruction(this)\">提交这条命令</button>\n" +
            "      <p style=\"margin-left: 630px;color: red\">当错误选择指令时，不要点击提交按钮，选择增加一个新的命令即可</p>\n" +
            "    </form>\n" +
            "  </div>";
        AncestorDiv.insertAdjacentHTML("beforeend",html);
    }
    function submitListremoveInstruction(obj) {
        let formId='#'+obj.parentElement.getAttribute("id");
        let serializeArray = $(formId).serializeArray();
        $.ajax({
            url:"/post/listremove",
            type:"post",
            dataType:"text",
            data:serializeArray,
            success:function(result){
                alert(result);
            }
        });
    }

    //fornumber
    function FornumberInstruction(obj) {
        let AncestorDiv = obj.parentElement.parentElement.parentElement;
        let sequence = AncestorDiv.getAttribute("id").split("_")[1];
        let formId = "instruction"+sequence;
        let insertId = "insert"+sequence;
        let html = "  <div id=\""+insertId+"\">\n" +
            "    <br />\n" +
            "    <h3 style=\"color:indigo\">ForNumber指令（详细意义不明）</h3>\n" +
            "    <hr >\n" +
            "    <form id=\""+formId+"\">\n" +
            "      <div>\n" +
            "        <div class=\"input-group mb-3\">\n" +
            "          <div class=\"input-group-prepend\">\n" +
            "            <span class=\"input-group-text\">给定定义的列表的名字</span>\n" +
            "          </div>\n" +
            "          <input type=\"text\" name=\"number\" class=\"form-control\" placeholder=\"listName\">\n" +
            "        </div>\n" +
            "\n" +
            "        <div class=\"input-group mb-3\">\n" +
            "          <div class=\"input-group-prepend\">\n" +
            "            <span class=\"input-group-text\">内部task的Id</span>\n" +
            "          </div>\n" +
            "          <input type=\"text\" name=\"insideTaskId\" class=\"form-control\" placeholder=\"内部Id\">\n" +
            "        </div>\n" +
            "\n" +
            "      </div>\n" +
            "      <button type=\"button\" class=\"btn btn-outline-success\" style=\"margin-left: 1000px\" onclick=\"submitFornumberInstruction(this)\">提交这条命令</button>\n" +
            "      <p style=\"margin-left: 630px;color: red\">当错误选择指令时，不要点击提交按钮，选择增加一个新的命令即可</p>\n" +
            "    </form>\n" +
            "  </div>";
        AncestorDiv.insertAdjacentHTML("beforeend",html);
    }
    function submitFornumberInstruction(obj){
        let formId='#'+obj.parentElement.getAttribute("id");
        let serializeArray = $(formId).serializeArray();
        $.ajax({
            url:"/post/fornumber",
            type:"post",
            dataType:"text",
            data:serializeArray,
            success:function(result){
                alert(result);
            }
        });
    }

    //foreach
    function ForeachInstruction(obj) {
        let AncestorDiv = obj.parentElement.parentElement.parentElement;
        let sequence = AncestorDiv.getAttribute("id").split("_")[1];
        let formId = "instruction"+sequence;
        let insertId = "insert"+sequence;
        let html = "  <div id=\""+insertId+"\">\n" +
            "    <br />\n" +
            "    <h3 style=\"color:indigo\">ForEach指令（详细意义不明）</h3>\n" +
            "    <hr >\n" +
            "    <form id=\""+formId+"\">\n" +
            "      <div>\n" +
            "        <div class=\"input-group mb-3\">\n" +
            "          <div class=\"input-group-prepend\">\n" +
            "            <span class=\"input-group-text\">要遍历的列表的名字</span>\n" +
            "          </div>\n" +
            "          <input type=\"text\" name=\"listName\" class=\"form-control\" placeholder=\"要遍历的列表的名字\">\n" +
            "        </div>\n" +
            "\n" +
            "        <div class=\"input-group mb-3\">\n" +
            "          <div class=\"input-group-prepend\">\n" +
            "            <span class=\"input-group-text\">在列表中查找到对象的名字</span>\n" +
            "          </div>\n" +
            "          <input type=\"text\" name=\"objectName\" class=\"form-control\" placeholder=\"对象名\">\n" +
            "        </div>\n" +
            "\n" +
            "        <div class=\"input-group mb-3\">\n" +
            "          <div class=\"input-group-prepend\">\n" +
            "            <span class=\"input-group-text\">输出对象的名字</span>\n" +
            "          </div>\n" +
            "          <input type=\"text\" name=\"outName\" class=\"form-control\" placeholder=\"UNKNOWN\">\n" +
            "        </div>\n" +
            "\n" +
            "        <div class=\"input-group mb-3\">\n" +
            "          <div class=\"input-group-prepend\">\n" +
            "            <span class=\"input-group-text\">内部task的Id</span>\n" +
            "          </div>\n" +
            "          <input type=\"text\" name=\"insideTaskId\" class=\"form-control\" placeholder=\"内部Id\">\n" +
            "        </div>\n" +
            "\n" +
            "      </div>\n" +
            "      <button type=\"button\" class=\"btn btn-outline-success\" style=\"margin-left: 1000px\" onclick=\"submitForeachInstruction(this)\">提交这条命令</button>\n" +
            "      <p style=\"margin-left: 630px;color: red\">当错误选择指令时，不要点击提交按钮，选择增加一个新的命令即可</p>\n" +
            "    </form>\n" +
            "  </div>";
        AncestorDiv.insertAdjacentHTML("beforeend",html);
    }
    function submitForeachInstruction(obj) {
        let formId='#'+obj.parentElement.getAttribute("id");
        let serializeArray = $(formId).serializeArray();
        $.ajax({
            url:"/post/foreach",
            type:"post",
            dataType:"text",
            data:serializeArray,
            success:function(result){
                alert(result);
            }
        });
    }

    //select
    function SelectInstruction(obj) {
        let AncestorDiv = obj.parentElement.parentElement.parentElement;
        let sequence = AncestorDiv.getAttribute("id").split("_")[1];
        let formId = "instruction"+sequence;
        let insertId = "insert"+sequence;
        let html = "<div id=\""+insertId+"\">\n" +
            "    <br />\n" +
            "    <h3 style=\"color:indigo\">Select指令</h3>\n" +
            "    <hr >\n" +
            "    <form id=\""+formId+"\">\n" +
            "      <div>\n" +
            "        <div class=\"input-group mb-3\">\n" +
            "          <div class=\"input-group-prepend\">\n" +
            "            <span class=\"input-group-text\">给定定义的expression的名字</span>\n" +
            "          </div>\n" +
            "          <input type=\"text\" name=\"informationName\" class=\"form-control\" placeholder=\"exp表达式\">\n" +
            "        </div>\n" +
            "\n" +
            "        <div class=\"input-group mb-3\">\n" +
            "          <div class=\"input-group-prepend\">\n" +
            "            <span class=\"input-group-text\">分支的id1</span>\n" +
            "          </div>\n" +
            "          <input type=\"text\" name=\"branch1Id\" class=\"form-control\" placeholder=\"分支id1\">\n" +
            "        </div>\n" +
            "\n" +
            "        <div class=\"input-group mb-3\">\n" +
            "          <div class=\"input-group-prepend\">\n" +
            "            <span class=\"input-group-text\">分支的id2</span>\n" +
            "          </div>\n" +
            "          <input type=\"text\" name=\"branch2Id\" class=\"form-control\" placeholder=\"分支的id2\">\n" +
            "        </div>\n" +
            "\n" +
            "      </div>\n" +
            "      <!-- Button trigger modal -->\n" +
            "      <button type=\"button\" class=\"btn btn-danger\" data-toggle=\"modal\" style=\"margin-left: 970px\" data-target=\"#staticBackdrop\">\n" +
            "        查询未完成的指令\n" +
            "      </button>\n" +
            "      <br /><br />\n" +
            "      <button type=\"button\" class=\"btn btn-outline-success\" style=\"margin-left: 1000px\" onclick=\"submitSelectInstruction(this)\">提交这条命令</button>\n" +
            "      <p style=\"margin-left: 630px;color: red\">当错误选择指令时，不要点击提交按钮，选择增加一个新的命令即可</p>\n" +
            "    </form>\n" +
            "  </div>";
        AncestorDiv.insertAdjacentHTML("beforeend",html);
    }
    function submitSelectInstruction(obj) {
        let formId='#'+obj.parentElement.getAttribute("id");
        let serializeArray = $(formId).serializeArray();
        $.ajax({
            url:"/post/select",
            type:"post",
            dataType:"text",
            data:serializeArray,
            success:function(result){
                alert(result);
            }
        });
    }

    //randomint
    function RandomIntInstruction(obj) {
        let AncestorDiv = obj.parentElement.parentElement.parentElement;
        let sequence = AncestorDiv.getAttribute("id").split("_")[1];
        let formId = "instruction"+sequence;
        let insertId = "insert"+sequence;
        let html = "  <div id=\""+insertId+"\">\n" +
            "    <br />\n" +
            "    <h3 style=\"color:indigo\">产生一个指定范围的随机数</h3>\n" +
            "    <hr >\n" +
            "    <form id=\""+formId+"\">\n" +
            "      <div>\n" +
            "        <div class=\"input-group mb-3\">\n" +
            "          <div class=\"input-group-prepend\">\n" +
            "            <span class=\"input-group-text\">给出随机数的开始和结束的值</span>\n" +
            "          </div>\n" +
            "          <input type=\"text\" name=\"range\" class=\"form-control\" placeholder=\"用，隔开开始和结束的值\">\n" +
            "        </div>\n" +
            "\n" +
            "        <div class=\"input-group mb-3\">\n" +
            "          <div class=\"input-group-prepend\">\n" +
            "            <span class=\"input-group-text\">给这个随机数起个名字</span>\n" +
            "          </div>\n" +
            "          <input type=\"text\" name=\"outName\" class=\"form-control\" placeholder=\"随机数的名字\">\n" +
            "        </div>\n" +
            "\n" +
            "      </div>\n" +
            "      <button type=\"button\" class=\"btn btn-outline-success\" style=\"margin-left: 1000px\" onclick=\"submitRandomintInstruction(this)\">提交这条命令</button>\n" +
            "      <p style=\"margin-left: 630px;color: red\">当错误选择指令时，不要点击提交按钮，选择增加一个新的命令即可</p>\n" +
            "    </form>\n" +
            "  </div>";
        AncestorDiv.insertAdjacentHTML("beforeend",html);
    }
    function submitRandomintInstruction(obj) {
        let formId='#'+obj.parentElement.getAttribute("id");
        let serializeArray = $(formId).serializeArray();
        $.ajax({
            url:"/post/randomint",
            type:"post",
            dataType:"text",
            data:serializeArray,
            success:function(result){
                alert(result);
            }
        });
    }

    //mathabs
    function MathAbsInstruction(obj) {
        let AncestorDiv = obj.parentElement.parentElement.parentElement;
        let sequence = AncestorDiv.getAttribute("id").split("_")[1];
        let formId = "instruction"+sequence;
        let insertId = "insert"+sequence;
        let html = "  <div id=\""+insertId+"\">\n" +
            "    <br />\n" +
            "    <h3 style=\"color:indigo\">取绝对值指令（意义不明）</h3>\n" +
            "    <hr >\n" +
            "    <form id=\""+formId+"\">\n" +
            "      <div>\n" +
            "        <div class=\"input-group mb-3\">\n" +
            "          <div class=\"input-group-prepend\">\n" +
            "            <span class=\"input-group-text\">填写的内容</span>\n" +
            "          </div>\n" +
            "          <input type=\"text\" name=\"fillInformation\" class=\"form-control\" placeholder=\"填写的内容\">\n" +
            "        </div>\n" +
            "\n" +
            "        <div class=\"input-group mb-3\">\n" +
            "          <div class=\"input-group-prepend\">\n" +
            "            <span class=\"input-group-text\">命名</span>\n" +
            "          </div>\n" +
            "          <input type=\"text\" name=\"outName\" class=\"form-control\" placeholder=\"命名\">\n" +
            "        </div>\n" +
            "\n" +
            "      </div>\n" +
            "      <button type=\"button\" class=\"btn btn-outline-success\" style=\"margin-left: 1000px\" onclick=\"submitMathabsInstruction(this)\">提交这条命令</button>\n" +
            "      <p style=\"margin-left: 630px;color: red\">当错误选择指令时，不要点击提交按钮，选择增加一个新的命令即可</p>\n" +
            "    </form>\n" +
            "  </div>";
        AncestorDiv.insertAdjacentHTML("beforeend",html);
    }
    function submitMathabsInstruction(obj) {
        let formId='#'+obj.parentElement.getAttribute("id");
        let serializeArray = $(formId).serializeArray();
        $.ajax({
            url:"/post/mathabs",
            type:"post",
            dataType:"text",
            data:serializeArray,
            success:function(result){
                alert(result);
            }
        });
    }

    //UpdateTimePeriod
    function UpdateTimePeriodInstruction(obj) {
        let AncestorDiv = obj.parentElement.parentElement.parentElement;
        let sequence = AncestorDiv.getAttribute("id").split("_")[1];
        let formId = "instruction"+sequence;
        let insertId = "insert"+sequence;
        let html = " <div id=\""+insertId+"\">\n" +
            "    <br />\n" +
            "    <h3 style=\"color:indigo\">生命周期信息更新</h3>\n" +
            "    <hr >\n" +
            "    <form id=\""+formId+"\">\n" +
            "      <div>\n" +
            "        <div class=\"input-group mb-3\">\n" +
            "          <div class=\"input-group-prepend\">\n" +
            "            <span class=\"input-group-text\">需要控制生命周期的实例对象名</span>\n" +
            "          </div>\n" +
            "          <input type=\"text\" name=\"instanceName\" class=\"form-control\" placeholder=\"实例对象名\">\n" +
            "        </div>\n" +
            "\n" +
            "        <div class=\"input-group mb-3\">\n" +
            "          <div class=\"input-group-prepend\">\n" +
            "            <span class=\"input-group-text\">输入活跃的队列名</span>\n" +
            "          </div>\n" +
            "          <input type=\"text\" name=\"activeListName\" class=\"form-control\" placeholder=\"活跃的队列名\">\n" +
            "        </div>\n" +
            "\n" +
            "        <div class=\"input-group mb-3\">\n" +
            "          <div class=\"input-group-prepend\">\n" +
            "            <span class=\"input-group-text\">输入休眠的队列名</span>\n" +
            "          </div>\n" +
            "          <input type=\"text\" name=\"dormantListName\" class=\"form-control\" placeholder=\"休眠的队列名\">\n" +
            "        </div>\n" +
            "\n" +
            "      </div>\n" +
            "      <button type=\"button\" class=\"btn btn-outline-success\" style=\"margin-left: 1000px\" onclick=\"submitUpdatetimeperiodInstruction(this)\">提交这条命令</button>\n" +
            "      <p style=\"margin-left: 630px;color: red\">当错误选择指令时，不要点击提交按钮，选择增加一个新的命令即可</p>\n" +
            "    </form>\n" +
            "  </div>";
        AncestorDiv.insertAdjacentHTML("beforeend",html);
    }
    function submitUpdatetimeperiodInstruction(obj) {
        let formId='#'+obj.parentElement.getAttribute("id");
        let serializeArray = $(formId).serializeArray();
        $.ajax({
            url:"/post/updatetimeperiod",
            type:"post",
            dataType:"text",
            data:serializeArray,
            success:function(result){
                alert(result);
            }
        });
    }

    //TypeConversion
    function TypeConversionInstruction(obj) {
        let AncestorDiv = obj.parentElement.parentElement.parentElement;
        let sequence = AncestorDiv.getAttribute("id").split("_")[1];
        let formId = "instruction"+sequence;
        let insertId = "insert"+sequence;
        let html = "  <div id=\""+insertId+"\">\n" +
            "    <br />\n" +
            "    <h3 style=\"color:indigo\">强制类型转换</h3>\n" +
            "    <hr >\n" +
            "    <form id=\""+formId+"\">\n" +
            "      <div>\n" +
            "        <div class=\"input-group mb-3\">\n" +
            "          <div class=\"input-group-prepend\">\n" +
            "            <span class=\"input-group-text\">请输入强制转换后的类型</span>\n" +
            "          </div>\n" +
            "          <input type=\"text\" name=\"conversionType\" class=\"form-control\" placeholder=\"强制转换的类型\">\n" +
            "        </div>\n" +
            "\n" +
            "        <div class=\"input-group mb-3\">\n" +
            "          <div class=\"input-group-prepend\">\n" +
            "            <span class=\"input-group-text\">填充转换的信息</span>\n" +
            "          </div>\n" +
            "          <input type=\"text\" name=\"information\" class=\"form-control\" placeholder=\"转换的内容\">\n" +
            "        </div>\n" +
            "\n" +
            "        <div class=\"input-group mb-3\">\n" +
            "          <div class=\"input-group-prepend\">\n" +
            "            <span class=\"input-group-text\">输入得到的变量名</span>\n" +
            "          </div>\n" +
            "          <input type=\"text\" name=\"outName\" class=\"form-control\" placeholder=\"输出变量名\">\n" +
            "        </div>\n" +
            "\n" +
            "      </div>\n" +
            "      <button type=\"button\" class=\"btn btn-outline-success\" style=\"margin-left: 1000px\" onclick=\"submitTypeconversionInstruction(this)\">\n" +
            "        提交这条命令\n" +
            "      </button>\n" +
            "      <p style=\"margin-left: 630px;color: red\">当错误选择指令时，不要点击提交按钮，选择增加一个新的命令即可</p>\n" +
            "    </form>\n" +
            "  </div>";
        AncestorDiv.insertAdjacentHTML("beforeend",html);
    }
    function submitTypeconversionInstruction(obj) {
        let formId='#'+obj.parentElement.getAttribute("id");
        let serializeArray = $(formId).serializeArray();
        $.ajax({
            url:"/post/typeconversion",
            type:"post",
            dataType:"text",
            data:serializeArray,
            success:function(result){
                alert(result);
            }
        });
    }

    //send
    function SendInstruction(obj) {
        let AncestorDiv = obj.parentElement.parentElement.parentElement;
        let sequence = AncestorDiv.getAttribute("id").split("_")[1];
        let formId = "instruction"+sequence;
        let insertId = "insert"+sequence;
        let html = "  <div id=\""+insertId+"\">\n" +
            "    <br />\n" +
            "    <h3 style=\"color:indigo\">发送交互类</h3>\n" +
            "    <hr >\n" +
            "    <form id=\""+formId+"\">\n" +
            "      <div>\n" +
            "        <div class=\"input-group mb-3\">\n" +
            "          <div class=\"input-group-prepend\">\n" +
            "            <span class=\"input-group-text\">选择要发送的交互类</span>\n" +
            "          </div>\n" +
            "          <input type=\"text\" name=\"sendInteractionId\" class=\"form-control\" placeholder=\"交互类id\">\n" +
            "        </div>\n" +
            "\n" +
            "        <div class=\"input-group mb-3\">\n" +
            "          <div class=\"input-group-prepend\">\n" +
            "            <span class=\"input-group-text\">填充交互类的参数的类型</span>\n" +
            "          </div>\n" +
            "          <input type=\"text\" name=\"sendTypes\" class=\"form-control\" placeholder=\"用，隔开\">\n" +
            "        </div>\n" +
            "\n" +
            "        <div class=\"input-group mb-3\">\n" +
            "          <div class=\"input-group-prepend\">\n" +
            "            <span class=\"input-group-text\">填充交互类的参数</span>\n" +
            "          </div>\n" +
            "          <input type=\"text\" name=\"sendInformation\" class=\"form-control\" placeholder=\"用，隔开\">\n" +
            "        </div>\n" +
            "\n" +
            "      </div>\n" +
            "      <button type=\"button\" class=\"btn btn-outline-success\" style=\"margin-left: 1000px\" onclick=\"submitSendInstruction(this)\">\n" +
            "        提交这条命令\n" +
            "      </button>\n" +
            "      <p style=\"margin-left: 630px;color: red\">当错误选择指令时，不要点击提交按钮，选择增加一个新的命令即可</p>\n" +
            "    </form>\n" +
            "  </div>";
        AncestorDiv.insertAdjacentHTML("beforeend",html);
    }
    function submitSendInstruction(obj) {
        let formId='#'+obj.parentElement.getAttribute("id");
        let serializeArray = $(formId).serializeArray();
        $.ajax({
            url:"/post/send",
            type:"post",
            dataType:"text",
            data:serializeArray,
            success:function(result){
                alert(result);
            }
        });
    }

    //objectset
    function ObjectSetInstruction(obj) {
        let AncestorDiv = obj.parentElement.parentElement.parentElement;
        let sequence = AncestorDiv.getAttribute("id").split("_")[1];
        let formId = "instruction"+sequence;
        let insertId = "insert"+sequence;
        let html = " <div id=\""+insertId+"\">\n" +
            "    <br />\n" +
            "    <h3 style=\"color:indigo\">设置对象（意义不明）</h3>\n" +
            "    <hr >\n" +
            "    <form id=\""+formId+"\">\n" +
            "      <div>\n" +
            "        <div class=\"input-group mb-3\">\n" +
            "          <div class=\"input-group-prepend\">\n" +
            "            <span class=\"input-group-text\">请输入这个对象的名称</span>\n" +
            "          </div>\n" +
            "          <input type=\"text\" name=\"objectName\" class=\"form-control\" placeholder=\"对象名称\">\n" +
            "        </div>\n" +
            "\n" +
            "        <div class=\"input-group mb-3\">\n" +
            "          <div class=\"input-group-prepend\">\n" +
            "            <span class=\"input-group-text\">请输入想要设置的参数名称</span>\n" +
            "          </div>\n" +
            "          <input type=\"text\" name=\"parameterName\" class=\"form-control\" placeholder=\"参数的名字\">\n" +
            "        </div>\n" +
            "\n" +
            "        <div class=\"input-group mb-3\">\n" +
            "          <div class=\"input-group-prepend\">\n" +
            "            <span class=\"input-group-text\">参数的类型</span>\n" +
            "          </div>\n" +
            "          <input type=\"text\" name=\"setType\" class=\"form-control\" placeholder=\"setType\">\n" +
            "        </div>\n" +
            "\n" +
            "        <div class=\"input-group mb-3\">\n" +
            "          <div class=\"input-group-prepend\">\n" +
            "            <span class=\"input-group-text\">设置的信息</span>\n" +
            "          </div>\n" +
            "          <input type=\"text\" name=\"setName\" class=\"form-control\" placeholder=\"setName\">\n" +
            "        </div>\n" +
            "\n" +
            "      </div>\n" +
            "      <button type=\"button\" class=\"btn btn-outline-success\" style=\"margin-left: 1000px\" onclick=\"submitObjectsetInstruction(this)\">\n" +
            "        提交这条命令\n" +
            "      </button>\n" +
            "      <p style=\"margin-left: 630px;color: red\">当错误选择指令时，不要点击提交按钮，选择增加一个新的命令即可</p>\n" +
            "    </form>\n" +
            "  </div>";
        AncestorDiv.insertAdjacentHTML("beforeend",html);
    }
    function submitObjectsetInstruction(obj) {
        let formId='#'+obj.parentElement.getAttribute("id");
        let serializeArray = $(formId).serializeArray();
        $.ajax({
            url:"/post/objectset",
            type:"post",
            dataType:"text",
            data:serializeArray,
            success:function(result){
                alert(result);
            }
        });
    }

    //objectget
    function ObjectGetInstruction(obj) {
        let AncestorDiv = obj.parentElement.parentElement.parentElement;
        let sequence = AncestorDiv.getAttribute("id").split("_")[1];
        let formId = "instruction"+sequence;
        let insertId = "insert"+sequence;
        let html = "  <div id=\""+insertId+"\">\n" +
            "    <br />\n" +
            "    <h3 style=\"color:indigo\">获取对象（意义不明）</h3>\n" +
            "    <hr >\n" +
            "    <form id=\""+formId+"\">\n" +
            "      <div>\n" +
            "        <div class=\"input-group mb-3\">\n" +
            "          <div class=\"input-group-prepend\">\n" +
            "            <span class=\"input-group-text\">请输入这个对象的名称</span>\n" +
            "          </div>\n" +
            "          <input type=\"text\" name=\"objectName\" class=\"form-control\" placeholder=\"对象名称\">\n" +
            "        </div>\n" +
            "\n" +
            "        <div class=\"input-group mb-3\">\n" +
            "          <div class=\"input-group-prepend\">\n" +
            "            <span class=\"input-group-text\">请输入想要得到的参数名称</span>\n" +
            "          </div>\n" +
            "          <input type=\"text\" name=\"parameterName\" class=\"form-control\" placeholder=\"参数的名字\">\n" +
            "        </div>\n" +
            "\n" +
            "        <div class=\"input-group mb-3\">\n" +
            "          <div class=\"input-group-prepend\">\n" +
            "            <span class=\"input-group-text\">参数的类型</span>\n" +
            "          </div>\n" +
            "          <input type=\"text\" name=\"outType\" class=\"form-control\" placeholder=\"outType\">\n" +
            "        </div>\n" +
            "\n" +
            "        <div class=\"input-group mb-3\">\n" +
            "          <div class=\"input-group-prepend\">\n" +
            "            <span class=\"input-group-text\">输入得到参数后的变量名</span>\n" +
            "          </div>\n" +
            "          <input type=\"text\" name=\"outName\" class=\"form-control\" placeholder=\"outName\">\n" +
            "        </div>\n" +
            "\n" +
            "      </div>\n" +
            "      <button type=\"button\" class=\"btn btn-outline-success\" style=\"margin-left: 1000px\" onclick=\"submitObjectgetInstruction(this)\">\n" +
            "        提交这条命令\n" +
            "      </button>\n" +
            "      <p style=\"margin-left: 630px;color: red\">当错误选择指令时，不要点击提交按钮，选择增加一个新的命令即可</p>\n" +
            "    </form>\n" +
            "  </div>";
        AncestorDiv.insertAdjacentHTML("beforeend",html);
    }
    function submitObjectgetInstruction(obj) {
        let formId='#'+obj.parentElement.getAttribute("id");
        let serializeArray = $(formId).serializeArray();
        $.ajax({
            url:"/post/objectget",
            type:"post",
            dataType:"text",
            data:serializeArray,
            success:function(result){
                alert(result);
            }
        });
    }

    //ListGetIndex
    function ListGetIndexInstruction(obj) {
        let AncestorDiv = obj.parentElement.parentElement.parentElement;
        let sequence = AncestorDiv.getAttribute("id").split("_")[1];
        let formId = "instruction"+sequence;
        let insertId = "insert"+sequence;
        let html = "  <div id=\""+insertId+"\">\n" +
            "    <br />\n" +
            "    <h3 style=\"color:indigo\">按照下标从列表中获得元素</h3>\n" +
            "    <hr >\n" +
            "    <form id=\""+formId+"\">\n" +
            "      <div>\n" +
            "        <div class=\"input-group mb-3\">\n" +
            "          <div class=\"input-group-prepend\">\n" +
            "            <span class=\"input-group-text\">请输入想要获得对象所在列表的名字</span>\n" +
            "          </div>\n" +
            "          <input type=\"text\" name=\"listName\" class=\"form-control\" placeholder=\"对象所在的列表名\">\n" +
            "        </div>\n" +
            "\n" +
            "        <div class=\"input-group mb-3\">\n" +
            "          <div class=\"input-group-prepend\">\n" +
            "            <span class=\"input-group-text\">想要获得的对象名</span>\n" +
            "          </div>\n" +
            "          <input type=\"text\" name=\"objectName\" class=\"form-control\" placeholder=\"想要获得的对象的名字\">\n" +
            "        </div>\n" +
            "\n" +
            "        <div class=\"input-group mb-3\">\n" +
            "          <div class=\"input-group-prepend\">\n" +
            "            <span class=\"input-group-text\">填充的信息</span>\n" +
            "          </div>\n" +
            "          <input type=\"text\" name=\"fillInformation\" class=\"form-control\" placeholder=\"\">\n" +
            "        </div>\n" +
            "\n" +
            "        <div class=\"input-group mb-3\">\n" +
            "          <div class=\"input-group-prepend\">\n" +
            "            <span class=\"input-group-text\">输出的新的对象的名字</span>\n" +
            "          </div>\n" +
            "          <input type=\"text\" name=\"outName\" class=\"form-control\" placeholder=\"新的对象名\">\n" +
            "        </div>\n" +
            "\n" +
            "      </div>\n" +
            "      <button type=\"button\" class=\"btn btn-outline-success\" style=\"margin-left: 1000px\" onclick=\"submitListgetindexInstruction(this)\">\n" +
            "        提交这条命令\n" +
            "      </button>\n" +
            "      <p style=\"margin-left: 630px;color: red\">当错误选择指令时，不要点击提交按钮，选择增加一个新的命令即可</p>\n" +
            "    </form>\n" +
            "  </div>";
        AncestorDiv.insertAdjacentHTML("beforeend",html);
    }
    function submitListgetindexInstruction(obj) {
        let formId='#'+obj.parentElement.getAttribute("id");
        let serializeArray = $(formId).serializeArray();
        $.ajax({
            url:"/post/listgetindex",
            type:"post",
            dataType:"text",
            data:serializeArray,
            success:function(result){
                alert(result);
            }
        });
    }

    //Listget
    function ListGetInstruction(obj) {
        let AncestorDiv = obj.parentElement.parentElement.parentElement;
        let sequence = AncestorDiv.getAttribute("id").split("_")[1];
        let formId = "instruction"+sequence;
        let insertId = "insert"+sequence;
        let html = "  <div id=\""+insertId+"\">\n" +
            "    <br />\n" +
            "    <h3 style=\"color:indigo\">按照名字从列表中获得元素</h3>\n" +
            "    <hr >\n" +
            "    <form id=\""+formId+"\">\n" +
            "      <div>\n" +
            "        <div class=\"input-group mb-3\">\n" +
            "          <div class=\"input-group-prepend\">\n" +
            "            <span class=\"input-group-text\">请输入想要获得对象所在列表的名字</span>\n" +
            "          </div>\n" +
            "          <input type=\"text\" name=\"listName\" class=\"form-control\" placeholder=\"对象所在的列表名\">\n" +
            "        </div>\n" +
            "\n" +
            "        <div class=\"input-group mb-3\">\n" +
            "          <div class=\"input-group-prepend\">\n" +
            "            <span class=\"input-group-text\">想要获得的对象名</span>\n" +
            "          </div>\n" +
            "          <input type=\"text\" name=\"objectName\" class=\"form-control\" placeholder=\"想要获得的对象的名字\">\n" +
            "        </div>\n" +
            "\n" +
            "        <div class=\"input-group mb-3\">\n" +
            "          <div class=\"input-group-prepend\">\n" +
            "            <span class=\"input-group-text\">想要获得的对象的类型</span>\n" +
            "          </div>\n" +
            "          <input type=\"text\" name=\"getType\" class=\"form-control\" placeholder=\"对象的类型\">\n" +
            "        </div>\n" +
            "\n" +
            "        <div class=\"input-group mb-3\">\n" +
            "          <div class=\"input-group-prepend\">\n" +
            "            <span class=\"input-group-text\">填充的信息</span>\n" +
            "          </div>\n" +
            "          <input type=\"text\" name=\"fillInformation\" class=\"form-control\" placeholder=\"\">\n" +
            "        </div>\n" +
            "\n" +
            "        <div class=\"input-group mb-3\">\n" +
            "          <div class=\"input-group-prepend\">\n" +
            "            <span class=\"input-group-text\">所按照的参数名</span>\n" +
            "          </div>\n" +
            "          <input type=\"text\" name=\"accordingParameter\" class=\"form-control\" placeholder=\"所依照的参数名\">\n" +
            "        </div>\n" +
            "\n" +
            "        <div class=\"input-group mb-3\">\n" +
            "          <div class=\"input-group-prepend\">\n" +
            "            <span class=\"input-group-text\">输出的新的对象的名字</span>\n" +
            "          </div>\n" +
            "          <input type=\"text\" name=\"outName\" class=\"form-control\" placeholder=\"新的对象名\">\n" +
            "        </div>\n" +
            "\n" +
            "      </div>\n" +
            "      <button type=\"button\" class=\"btn btn-outline-success\" style=\"margin-left: 1000px\" onclick=\"submitListgetInstruction(this)\">\n" +
            "        提交这条命令\n" +
            "      </button>\n" +
            "      <p style=\"margin-left: 630px;color: red\">当错误选择指令时，不要点击提交按钮，选择增加一个新的命令即可</p>\n" +
            "    </form>\n" +
            "  </div>";
        AncestorDiv.insertAdjacentHTML("beforeend",html);
    }
    function submitListgetInstruction(obj) {
        let formId='#'+obj.parentElement.getAttribute("id");
        let serializeArray = $(formId).serializeArray();
        console.log(serializeArray);
        $.ajax({
            url:"/post/listget",
            type:"post",
            dataType:"text",
            data:serializeArray,
            success:function(result){
                alert(result);
            }
        });
    }

</script>
</body>
</html>